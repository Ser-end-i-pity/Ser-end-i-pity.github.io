<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"ser-end-i-pity.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.14.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="集合的基本使用, 迭代器底层代码 , 深入分析 JDK 1.7 , 1.8 HashMap底层原理">
<meta property="og:type" content="article">
<meta property="og:title" content="Java-集合">
<meta property="og:url" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/index.html">
<meta property="og:site_name" content="猫尛妖">
<meta property="og:description" content="集合的基本使用, 迭代器底层代码 , 深入分析 JDK 1.7 , 1.8 HashMap底层原理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027014918288.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027015109666.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027015207396.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027015259389.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027020651831.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027020906562.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027021123636.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027024842004.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031304840.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031430700.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031616896.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031902285.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034416589.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034644788.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034801389.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034831881.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034918084.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035037056.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035321786.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035418162.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035526847.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035805976.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027074732990.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027075252798.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027075326146.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221203062227686.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221204230549169.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221204231403874.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205074253607.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205083225391.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205085817823.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205090135573.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221206043533536.png">
<meta property="og:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221206075246580.png">
<meta property="article:published_time" content="2022-12-27T22:58:36.000Z">
<meta property="article:modified_time" content="2022-12-27T23:12:09.833Z">
<meta property="article:author" content="猫尛妖">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027014918288.png">


<link rel="canonical" href="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/","path":"2022/12/28/Java-集合/","title":"Java-集合"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Java-集合 | 猫尛妖</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">猫尛妖</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">猫尛妖</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%97%E6%B3%95"><span class="nav-number">1.</span> <span class="nav-text">一 什么是算法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-%E7%B4%A7%E5%AF%86%E7%BB%93%E6%9E%84"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 紧密结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-%E8%B7%B3%E8%BD%AC%E7%BB%93%E6%9E%84"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 跳转结构</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C-%E9%9B%86%E5%90%88%E7%9A%84%E5%BC%95%E5%85%A5"><span class="nav-number">2.</span> <span class="nav-text">二 集合的引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89-%E7%AE%80%E8%A6%81%E9%9B%86%E5%90%88%E7%BB%93%E6%9E%84%E5%9B%BE"><span class="nav-number">3.</span> <span class="nav-text">三 简要集合结构图</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-%E9%9B%86%E5%90%88%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E5%90%88"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 集合的应用场合</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B-Collection-%E6%8E%A5%E5%8F%A3"><span class="nav-number">4.</span> <span class="nav-text">四 Collection 接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#4-1-collection-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 collection 常用方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-2-Collection-%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 Collection 遍历方式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%94-List-%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.</span> <span class="nav-text">五 List 接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-List-%E6%8E%A5%E5%8F%A3%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 List 接口常用方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-ArrayList-%E5%AE%9E%E7%8E%B0%E7%B1%BB-JDK-1-7-%E6%BA%90%E7%A0%81"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 ArrayList 实现类 JDK 1.7 源码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-ArrayList-%E5%AE%9E%E7%8E%B0%E7%B1%BB-JDK-1-8%E6%BA%90%E7%A0%81"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 ArrayList 实现类 JDK 1.8源码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-Vector-%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%BA%90%E7%A0%81"><span class="nav-number">5.4.</span> <span class="nav-text">5.4 Vector 实现类源码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-5-%E6%B3%9B%E5%9E%8B"><span class="nav-number">5.5.</span> <span class="nav-text">5.5 泛型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-6-%E6%B3%9B%E5%9E%8B%E7%B1%BB-%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.6.</span> <span class="nav-text">5.6 泛型类, 泛型接口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-7-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="nav-number">5.7.</span> <span class="nav-text">5.7 泛型方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-8-%E6%B3%9B%E5%9E%8B%E5%8F%97%E9%99%90"><span class="nav-number">5.8.</span> <span class="nav-text">5.8 泛型受限</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%AD-LinkedList"><span class="nav-number">6.</span> <span class="nav-text">六 LinkedList</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 常用方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-2-%E7%AE%80%E8%A6%81%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E5%9B%BE"><span class="nav-number">6.2.</span> <span class="nav-text">6.2  简要底层原理图</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-3-%E6%A8%A1%E6%8B%9F-LinkList-%E6%BA%90%E7%A0%81"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 模拟 LinkList 源码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-4-LinkedList-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90"><span class="nav-number">6.4.</span> <span class="nav-text">6.4 LinkedList 源码解析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-5-iterator-%E7%9B%B8%E5%85%B3"><span class="nav-number">6.5.</span> <span class="nav-text">6.5 iterator()相关</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-6-ListIterator-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">6.6.</span> <span class="nav-text">6.6 ListIterator 迭代器</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%83-Set-%E6%8E%A5%E5%8F%A3"><span class="nav-number">7.</span> <span class="nav-text">七 Set 接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-HashSet"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 HashSet</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-2-HashSet-%E7%AE%80%E8%A6%81%E5%8E%9F%E7%90%86"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 HashSet 简要原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-3-LinkedHashSet-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">7.3.</span> <span class="nav-text">7.3 LinkedHashSet 的使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-4-%E6%AF%94%E8%BE%83%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">7.4.</span> <span class="nav-text">7.4 比较器的使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-5-TreeSet-%E7%9A%84%E4%BD%BF%E7%94%A8%E5%8F%8A%E5%8E%9F%E7%90%86"><span class="nav-number">7.5.</span> <span class="nav-text">7.5 TreeSet 的使用及原理</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%AB-Map-%E6%8E%A5%E5%8F%A3"><span class="nav-number">8.</span> <span class="nav-text">八 Map 接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-Map-%E6%8E%A5%E5%8F%A3%E4%B8%AD%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">8.1.</span> <span class="nav-text">8.1 Map 接口中常用方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-2-HashTable-LinkedHashMap"><span class="nav-number">8.2.</span> <span class="nav-text">8.2 HashTable , LinkedHashMap</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-3-TreeMap-%E5%AE%9E%E7%8E%B0%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">8.3.</span> <span class="nav-text">8.3 TreeMap 实现类的使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-4-HashMap-%E9%87%8D%E8%A6%81%E5%B1%9E%E6%80%A7"><span class="nav-number">8.4.</span> <span class="nav-text">8.4 HashMap  重要属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-5-HashSet-%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="nav-number">8.5.</span> <span class="nav-text">8.5 HashSet 底层原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-6-HashMap-1-8-%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="nav-number">8.6.</span> <span class="nav-text">8.6 HashMap 1.8 底层原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-7-TreeMap-%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81"><span class="nav-number">8.7.</span> <span class="nav-text">8.7 TreeMap 底层源码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-8-TreeSet-%E6%BA%90%E7%A0%81"><span class="nav-number">8.8.</span> <span class="nav-text">8.8 TreeSet 源码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B9%9D-Conllections-%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">9.</span> <span class="nav-text">九 Conllections 工具类</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="猫尛妖"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">猫尛妖</p>
  <span style="color:#fff"><i class="fas fa-map-marker-alt"></i> 广东</span>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Ser-end-i-pity" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Ser-end-i-pity" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:kang.time@qq.com" title="E-Mail → mailto:kang.time@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=3490891825&website=www.oicqzone.com" title="QQ → tencent:&#x2F;&#x2F;AddContact&#x2F;?fromId&#x3D;45&amp;fromSubId&#x3D;1&amp;subcmd&#x3D;all&amp;uin&#x3D;3490891825&amp;website&#x3D;www.oicqzone.com" rel="noopener" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>

        </div>
      </div>
    </div>
    
	<div id="Date" style="color: #e5dfdf;text-align:center;font-weight:bold;"></div>
	<script type="text/javascript"> 
		function showDate(){
		var w1 = ['日', '一', '二', '三', '四', '五', '六'];
		setInterval(function(){   
		var date=new Date();   
		var year=date.getFullYear(); //获取当前年份   
		var mon=date.getMonth()+1; //获取当前月份   
		var da=date.getDate(); //获取当前日   
		var day=w1[date.getDay()]; //获取当前星期几   
		var h=('0'+date.getHours()).slice(-2); //获取小时   
		var m=('0'+date.getMinutes()).slice(-2); //获取分钟   
		var s=('0'+date.getSeconds()).slice(-2); //获取秒 
		var d=document.getElementById('Date');    
		d.innerHTML='今天是'+year+'年'+mon+'月'+da+'日'+'星期'+day+' '+h+':'+m+':'+s;  },1000)  }
		showDate();
		</script>
	<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=335 src="//music.163.com/outchain/player?type=0&id=7708016601&auto=1&height=430"></iframe>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ser-end-i-pity.github.io/2022/12/28/Java-%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="猫尛妖">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="猫尛妖">
      <meta itemprop="description" content="Java">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Java-集合 | 猫尛妖">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java-集合
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-12-28 06:58:36 06:58:36" itemprop="dateCreated datePublished" datetime="2022-12-28T06:58:36+08:00">2022-12-28 06:58:36</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-12-28 07:12:09 07:12:09" itemprop="dateModified" datetime="2022-12-28T07:12:09+08:00">2022-12-28 07:12:09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">编程</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>集合的基本使用, 迭代器底层代码 , 深入分析 JDK 1.7 , 1.8 HashMap底层原理 </p>
<span id="more"></span>

<h4 id="一-什么是算法"><a href="#一-什么是算法" class="headerlink" title="一 什么是算法"></a>一 什么是算法</h4><p><strong>【1】算法:</strong></p>
<ol>
<li>可以解决具体问题:例如1+2+3+4+。。。+99+100</li>
</ol>
<p>​    解题流程=算法</p>
<ol start="2">
<li><p>有设计解决的具体的流程<br>算法1:1+2=3 3+3=6 6+4=10.……加到100 –》5050</p>
<p>算法2:(1+100)<em>50=101</em>50=5050–&gt;高斯算法</p>
<p>有评价这个算法的具体的指标–》时间复杂度    空间复杂度（从数学角度考虑)</p>
</li>
</ol>
<p><strong>【2】数据结构:</strong></p>
<p>​    就是在计算机的缓存，内存，硬盘如何组织管理数据的。重点在结构上，是按照什么结构来组织管理我们的数据。</p>
<p><strong>数据结构分为:</strong><br>(1）逻辑结构︰–》思想上的结构–》卧室，厨房，卫生间—》线性表（数组，链表)，图，树，栈，队列</p>
<p>(2）物理结构∶–》真实结构–》钢筋混凝土+牛顿力学—–》紧密结构（顺序结构)，跳转结构（链式结构)</p>
<p>集合重点讲就是 : <strong>紧密结构</strong> 和 <strong>跳转结构</strong>。</p>
<h5 id="1-1-紧密结构"><a href="#1-1-紧密结构" class="headerlink" title="1.1 紧密结构"></a>1.1 紧密结构</h5><blockquote>
<p>紧密结构典型的就是 数组</p>
</blockquote>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027014918288.png" alt="image-20221027014918288" style="zoom:200%;">



<h5 id="1-2-跳转结构"><a href="#1-2-跳转结构" class="headerlink" title="1.2 跳转结构"></a>1.2 跳转结构</h5><blockquote>
<p>线性逻辑结构如果是跳转结构, 典型的是 链表</p>
</blockquote>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027015109666.png" alt="image-20221027015109666" style="zoom:200%;">

<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027015207396.png" alt="image-20221027015207396"></p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027015259389.png" alt="image-20221027015259389"></p>
<p><strong>跳转结构的优点 与 缺点 :</strong></p>
<p><strong>优点 :</strong> 删除元素,插入元素效率高</p>
<p><strong>缺点 :</strong> 查询元素效率低</p>
<h4 id="二-集合的引入"><a href="#二-集合的引入" class="headerlink" title="二 集合的引入"></a>二 集合的引入</h4><blockquote>
<p>数组，集合都是对多个数据进行存储操作的，简称为容器。</p>
<p>这里的存储指的是内存层面的存储，而不是持久化存储(.txt,.avi.jpg,数据库)。</p>
</blockquote>
<p><strong>数组 : 特点 :</strong></p>
<ol>
<li><p>数组一旦指定了长度，那么长度就被确定了，不可以更改。int[] arr = new int[6];</p>
</li>
<li><p>数组一旦声明了类型以后，数组中只能存放这个类型的数据。数组中只能存放同一种类型的数据。</p>
<p>int[] arr,String[] s,double[] d…..</p>
</li>
</ol>
<p><strong>数组 : 缺点 :</strong></p>
<ol>
<li>数组一旦指定了长度，那么长度就被确定了，不可以更改。</li>
<li>删除，增加元素效率低。</li>
<li>数组中实际元素的数量是没有办法获取的，没有提供对应的方法或者属性来获取</li>
<li>数组存储:有序，可重复，对于无序的，不可重复的数组不能满足要求。</li>
</ol>
<p>正因为上面的缺点，引入了一个新的存储数据的结构—》<strong>集合</strong></p>
<h4 id="三-简要集合结构图"><a href="#三-简要集合结构图" class="headerlink" title="三 简要集合结构图"></a>三 简要集合结构图</h4><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027020651831.png" alt="image-20221027020651831" style="zoom:200%;">

<h5 id="3-1-集合的应用场合"><a href="#3-1-集合的应用场合" class="headerlink" title="3.1 集合的应用场合"></a>3.1 集合的应用场合</h5><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027020906562.png" alt="image-20221027020906562" style="zoom:200%;">

<p>当需要将相同结构的个体整合到一起的时候，需要集合。</p>
<p>实际应用场合 :</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027021123636.png" alt="image-20221027021123636"></p>
<h4 id="四-Collection-接口"><a href="#四-Collection-接口" class="headerlink" title="四 Collection 接口"></a>四 Collection 接口</h4><h5 id="4-1-collection-常用方法"><a href="#4-1-collection-常用方法" class="headerlink" title="4.1 collection 常用方法"></a>4.1 collection 常用方法</h5><blockquote>
<p>Collection 接口的常用方法:</p>
<p>增加: add(E e) addALL(collection&lt; ? extends E&gt;c)</p>
<p>删除: clear() remove(object o)</p>
<p>修改:</p>
<p>查看: iterator()  size()</p>
<p>判断: contains(0bject o)  equals(object o) isEmpty()</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        创建对象 : 接口不能创建对象 , 利用实现类创建对象</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">col</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="comment">// 调用方法:</span></span><br><span class="line">        <span class="comment">// 集合有一个特点:只能存放引用数据类型的数据，不能是基本数据类型</span></span><br><span class="line">        <span class="comment">// 基本数据类型自动装箱，对应包装类。int---&gt;Integer</span></span><br><span class="line">        col.add(<span class="number">8</span>);</span><br><span class="line">        col.add(<span class="number">88</span>);</span><br><span class="line">        col.add(<span class="number">888</span>);</span><br><span class="line">        <span class="comment">// 这里的 col 是调用了 ArrayList的 toString 方法</span></span><br><span class="line">        System.out.println(col);</span><br><span class="line"></span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Integer</span>[]&#123;<span class="number">11</span>, <span class="number">15</span>, <span class="number">36</span>, <span class="number">88</span>, <span class="number">100</span>&#125;);</span><br><span class="line">        col.addAll(list); <span class="comment">// 将另一个集合添加入 col 中</span></span><br><span class="line">        System.out.println(col);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 清空集合</span></span><br><span class="line">        <span class="comment">// col.clear();</span></span><br><span class="line">        System.out.println(col);</span><br><span class="line">        System.out.println(<span class="string">&quot;集合中元素的数量为 :&quot;</span>+col.size());</span><br><span class="line">        System.out.println(<span class="string">&quot;集合是否为空 : &quot;</span> + col.isEmpty());</span><br><span class="line"></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">remove</span> <span class="operator">=</span> col.remove(<span class="number">15</span>);</span><br><span class="line">        System.out.println(col);</span><br><span class="line">        System.out.println(<span class="string">&quot;集合中数据是否被删除: &quot;</span> + remove);</span><br><span class="line"></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">col1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        col1.add(<span class="number">8</span>);</span><br><span class="line">        col1.add(<span class="number">88</span>);</span><br><span class="line">        col1.add(<span class="number">888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">col2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        col2.add(<span class="number">8</span>);</span><br><span class="line">        col2.add(<span class="number">88</span>);</span><br><span class="line">        col2.add(<span class="number">888</span>);</span><br><span class="line">        System.out.println(col1.equals(col2)); <span class="comment">// equals 比较值</span></span><br><span class="line">        System.out.println(col1 == col2); <span class="comment">// 地址一定不相等 false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;集合是否包含元素 :&quot;</span>+col2.contains(<span class="number">1688</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h5 id="4-2-Collection-遍历方式"><a href="#4-2-Collection-遍历方式" class="headerlink" title="4.2 Collection 遍历方式"></a>4.2 Collection 遍历方式</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">col</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        col.add(<span class="number">8</span>);</span><br><span class="line">        col.add(<span class="number">88</span>);</span><br><span class="line">        col.add(<span class="number">888</span>);</span><br><span class="line">        col.add(<span class="number">1688.88</span>);</span><br><span class="line">        <span class="comment">// 方式1: 增强 for 循环, 普通for循环不行</span></span><br><span class="line">        <span class="keyword">for</span> (Object o : col)&#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 方式2: iterator</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> col.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>iterator 底层简要原理 :</p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027024842004.png" alt="image-20221027024842004" style="zoom:200%;">



<h4 id="五-List-接口"><a href="#五-List-接口" class="headerlink" title="五 List 接口"></a>五 List 接口</h4><h5 id="5-1-List-接口常用方法"><a href="#5-1-List-接口常用方法" class="headerlink" title="5.1 List 接口常用方法"></a>5.1 List 接口常用方法</h5><blockquote>
<p>增加: add(int index, E eLement)</p>
<p>删除: remove(int index)    remove(object o)</p>
<p>修改:  set(int index，E element)</p>
<p>查看: get(int index)</p>
<p>判断:</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="number">8</span>);</span><br><span class="line">        list.add(<span class="number">88</span>);</span><br><span class="line">        list.add(<span class="number">888</span>);</span><br><span class="line">        list.add(<span class="number">8888</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.add(<span class="number">2</span>,<span class="number">1688</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.set(<span class="number">3</span>,<span class="number">1688.88</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.remove(<span class="number">2</span>);<span class="comment">//在集合中存入的是Integer类型数据的时候，调用remove方法调用的是: remove(int index)</span></span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> list.get(<span class="number">3</span>);</span><br><span class="line">        System.out.println(o);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// list 集合 遍历:</span></span><br><span class="line">        <span class="comment">// 方式1: 普通 for 循环</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            System.out.println(list.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 方式2: 增强 for 循环</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object obj : list)&#123;</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 方式3: 迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> list.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h5 id="5-2-ArrayList-实现类-JDK-1-7-源码"><a href="#5-2-ArrayList-实现类-JDK-1-7-源码" class="headerlink" title="5.2 ArrayList 实现类 JDK 1.7 源码"></a>5.2 ArrayList 实现类 JDK 1.7 源码</h5><ol>
<li><p>底层重要属性:</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031304840.png" alt="image-20221027031304840"></p>
</li>
</ol>
<p>在JDK1.7中 : 在调用构造器的时候给底层数组elementData初始化，数组初始化长度为10 :</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031430700.png" alt="image-20221027031430700"></p>
<p>对应内存 :</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031616896.png" alt="image-20221027031616896"></p>
<p>调用 add 方法 :</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027031902285.png" alt="image-20221027031902285"></p>
<p>当数组中的10个位置都满了的时候就开始进行数组的扩容，扩容长度为原数组的1.5倍 :</p>
<h5 id="5-3-ArrayList-实现类-JDK-1-8源码"><a href="#5-3-ArrayList-实现类-JDK-1-8源码" class="headerlink" title="5.3 ArrayList 实现类 JDK 1.8源码"></a>5.3 ArrayList 实现类 JDK 1.8源码</h5><p>JDK1.8底层依旧是Object类型的数组，size:数组中有效长度:</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034416589.png" alt="image-20221027034416589"></p>
<p>ArrayList al = new ArrayList(); 调用空构造器:</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034644788.png" alt="image-20221027034644788"></p>
<p>add 方法 :</p>
<table>
<thead>
<tr>
<th><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034801389.png" alt="image-20221027034801389"></th>
</tr>
</thead>
<tbody><tr>
<td><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034831881.png" alt="image-20221027034831881"></td>
</tr>
<tr>
<td><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027034918084.png" alt="image-20221027034918084" style="zoom:150%;"></td>
</tr>
<tr>
<td><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035037056.png" alt="image-20221027035037056"></td>
</tr>
</tbody></table>
<p>底层数组，在调用构造器的时候，底层数组为0，在调用add方法以后<br>底层数组才重新赋值为新数组，新数组的长度为10-》节省了内存，在add后才创建长度为10的数组</p>
<h5 id="5-4-Vector-实现类源码"><a href="#5-4-Vector-实现类源码" class="headerlink" title="5.4 Vector 实现类源码"></a>5.4 Vector 实现类源码</h5><blockquote>
<p>已经淘汰, 了解</p>
</blockquote>
<p>底层Object数组，int类型属性表示数组中有效长度:</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035321786.png" alt="image-20221027035321786"></p>
<p>Vector v = new Vector(); 调用构造器 :</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035418162.png" alt="image-20221027035418162"></p>
<p>add 方法:</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035526847.png" alt="image-20221027035526847"></p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027035805976.png" alt="image-20221027035805976" style="zoom:200%;">



<h5 id="5-5-泛型"><a href="#5-5-泛型" class="headerlink" title="5.5 泛型"></a>5.5 泛型</h5><blockquote>
<p>什么是泛型 ( Generic ):</p>
<p>泛型就相当于标签</p>
<p>形式 : &lt;&gt;</p>
</blockquote>
<p>没有泛型的时候使用集合 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个 ArrayList集合 , 向这个集合存入学生的成绩</span></span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="number">98</span>);</span><br><span class="line">        list.add(<span class="number">95</span>);</span><br><span class="line">        list.add(<span class="number">100</span>);</span><br><span class="line">        list.add(<span class="number">88</span>);</span><br><span class="line">        list.add(<span class="string">&quot;马冬梅&quot;</span>);</span><br><span class="line">        <span class="comment">// 遍历查看</span></span><br><span class="line">        <span class="keyword">for</span> (Object o : list)&#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>如果不使用泛型的话，有缺点:<br>一般我们在使用的时候基本上往集合中存入的都是相同类型的数据–》便于管理，所以现在什么引用数据类型都可以存入集合，不方便!</p>
<p>JDK1.5 开始使用,集合中使用泛型:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加入泛型的优点:在编译时期就会对类型进行检查，不是泛型对应的类型就不可以添加入这个集合。</span></span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">98</span>);</span><br><span class="line">        list.add(<span class="number">95</span>);</span><br><span class="line">        list.add(<span class="number">100</span>);</span><br><span class="line">        list.add(<span class="number">88</span>);</span><br><span class="line">        <span class="comment">// 遍历查看</span></span><br><span class="line">        <span class="keyword">for</span> (Integer o : list)&#123;</span><br><span class="line">            System.out.println(o);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<p><strong>总结  :</strong> 泛型实际就是一个&lt;&gt;引起来的参数类型，这个参数类型具体在使用的时候才会确定具体的类型。使用了泛型以后，可以确定集合中存放数据的类型，在编译时期就可以检查出来。泛型的类型:都是引用数据类型，不能是基本数据类型。</p>
<h5 id="5-6-泛型类-泛型接口"><a href="#5-6-泛型类-泛型接口" class="headerlink" title="5.6 泛型类, 泛型接口"></a>5.6 泛型类, 泛型接口</h5><p>泛型类的定义和实例化 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * GenericTest&lt;E&gt;就是一个泛型类</span></span><br><span class="line"><span class="comment"> * &lt;&gt;里面就是一个参数类型，但是这个类型是什么呢?这个类型现在是不确定的，相当于一个占位</span></span><br><span class="line"><span class="comment"> *但是现在确定的是这个类型一定是一个引用数据类型，而不是基本数据类型</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest</span>&lt;E&gt; &#123;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    String name;</span><br><span class="line">    E sex;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">a</span><span class="params">(E n)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">b</span><span class="params">(E[] m)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// GenericTest进行实例化:</span></span><br><span class="line">        <span class="comment">// 实例化的时候不指定泛型:如果实例化的时候不明确的指定类的泛型，那么认为此泛型为object类型</span></span><br><span class="line">        <span class="type">GenericTest</span> <span class="variable">gt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericTest</span>();</span><br><span class="line">        gt.a(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        gt.a(<span class="number">17</span>);</span><br><span class="line">        gt.a(<span class="number">9.8</span>);</span><br><span class="line">        gt.b(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 实例化的时候指定泛型:</span></span><br><span class="line">        GenericTest&lt;String&gt; gt2 = <span class="keyword">new</span> <span class="title class_">GenericTest</span>&lt;&gt;();</span><br><span class="line">        gt2.name=<span class="string">&quot;张三&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>继承情况:</p>
<ul>
<li><p>父类指定泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SubGenericTest</span> <span class="keyword">extends</span> <span class="title class_">GenericTest</span>&lt;Integer&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//指定父类泛型，那么子类就不需要再指定泛型了，可以直接使用</span></span><br><span class="line">        <span class="type">SubGenericTest</span> <span class="variable">subGenericTest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubGenericTest</span>();</span><br><span class="line">        subGenericTest.a(<span class="number">18</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>父类不指定泛型</p>
<p>如果父类不指定泛型，那么子类也会变成一个泛型类，那这个E的类型可以在创建子类对象的时候确定:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SubGenericTest2</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">GenericTest</span>&lt;E&gt;&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo2</span>&#123;</span><br><span class="line"><span class="comment">//这是main方法，程序的入口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(string[]args)</span> &#123;</span><br><span class="line">	SubGenericTest2&lt;string&gt; s = newSubGenericTest2&lt;&gt;();s.a ( <span class="string">&quot;abc&quot;</span> ) ;</span><br><span class="line">s.sex =<span class="string">&quot;女&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>细节 :</strong></p>
<p>泛型类可以定义多个参数类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestGeneric</span>&lt;A,B,C&gt;&#123;</span><br><span class="line">    A age;</span><br><span class="line">    B name;</span><br><span class="line">    c sex;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">a</span><span class="params">(A m,B n,c x)</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>泛型类的构造器是不能有泛型参数的</p>
<p>泛型类种的静态方法不能使用类的泛型 。</p>
<h5 id="5-7-泛型方法"><a href="#5-7-泛型方法" class="headerlink" title="5.7 泛型方法"></a>5.7 泛型方法</h5><blockquote>
<p>1.什么是泛型方法:<br>    不是带泛型的方法就是泛型方法<br>    泛型方法有要求:这个方法的泛型的参数类型要和当前的类的泛型无关</p>
<p>​    换个角度:<br>​    泛型方法对应的那个泛型参数类型和﹑当前所在的这个类是否是泛型类，泛型是啥无关</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest</span>&lt;E&gt; &#123;</span><br><span class="line">    <span class="comment">// 不是泛型方法 (不能是静态方法)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">a</span><span class="params">(E e)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 是泛型方法</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">b</span><span class="params">(T t)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>泛型方法定义的时候，前面要加上<T><br>原因:如果不加的话，会把T当做一种数据类型，然而代码中没有T类型那么就会报错</T></li>
<li>T的类型是在调用方法的时候确定的</li>
<li>泛型方法可否是静态方法? 可以是静态方法</li>
</ol>
<p>泛型参数存在继承关系的情况 :</p>
<p><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027074732990.png" alt="image-20221027074732990"></p>
<p><strong>通配符 :</strong></p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027075252798.png" alt="image-20221027075252798" style="zoom:200%;">

<p><strong>使用通配符 :</strong></p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221027075326146.png" alt="image-20221027075326146" style="zoom:200%;">



<h5 id="5-8-泛型受限"><a href="#5-8-泛型受限" class="headerlink" title="5.8 泛型受限"></a>5.8 泛型受限</h5><ol>
<li><p>Person</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Object</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>Student</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Test</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// a,b,c三个集合是并列的关系:</span></span><br><span class="line">        ArrayList&lt;Object&gt; a = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Person&gt; b = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Student&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        开始使用泛型受限:泛型的上限list&lt; ? extends Person&gt; :就相当于:;</span></span><br><span class="line"><span class="comment">        List&lt;? extends Person&gt;是List&lt;Person&gt;的父类，是List&lt;Person的子类&gt;的父类*/</span></span><br><span class="line"></span><br><span class="line">        List&lt;? <span class="keyword">extends</span> <span class="title class_">Person</span>&gt; list1 = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// list1 = a;</span></span><br><span class="line">        list1 = b;</span><br><span class="line">        list1 = c;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*开始使用泛型受限:泛型的下限List&lt;? super Person&gt;</span></span><br><span class="line"><span class="comment">就相当于:</span></span><br><span class="line"><span class="comment">List&lt;? super Person&gt;是List&lt;Person&gt;的父类，是List&lt;Person的父类&gt;的父类*/</span></span><br><span class="line">        List&lt;? <span class="built_in">super</span> Person&gt; list2 = <span class="literal">null</span>;</span><br><span class="line">        list2 = a;</span><br><span class="line">        list2 = b;</span><br><span class="line">       <span class="comment">// list2 = c;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="六-LinkedList"><a href="#六-LinkedList" class="headerlink" title="六 LinkedList"></a>六 LinkedList</h4><blockquote>
<p>JDK 1.8 底层链表 (双向链表)</p>
</blockquote>
<h5 id="6-1-常用方法"><a href="#6-1-常用方法" class="headerlink" title="6.1 常用方法"></a>6.1 常用方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkList</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        linkedList常用方法:</span></span><br><span class="line"><span class="comment">            增加 addFirst(E e) addLast(E e)</span></span><br><span class="line"><span class="comment">                    offer(E e) offerFirst(E e) offerLast(E e)</span></span><br><span class="line"><span class="comment">            删除  poLl() JDK 1.6之后</span></span><br><span class="line"><span class="comment">                    poLLFirst( ) polLLast( )removeFirst( ) removeLast( )</span></span><br><span class="line"><span class="comment">            修改</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            查看  element()</span></span><br><span class="line"><span class="comment">                    getFirst() getLast( )</span></span><br><span class="line"><span class="comment">                    indexof(object o)LastIndexOf(Object o)peek( )</span></span><br><span class="line"><span class="comment">                peekFirst( ) peekLast()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        LinkedList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;bbbb&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;cccc&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;bbbb&quot;</span>);</span><br><span class="line">        list.addFirst(<span class="string">&quot;1111&quot;</span>);</span><br><span class="line">        list.addLast(<span class="string">&quot;8888&quot;</span>);</span><br><span class="line"></span><br><span class="line">        list.offer(<span class="string">&quot;lll&quot;</span>);  <span class="comment">// 添加元素在尾端</span></span><br><span class="line">        list.offerFirst(<span class="string">&quot;[[ss&quot;</span>);</span><br><span class="line">        list.offerLast(<span class="string">&quot;rrr&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(list.poll()); <span class="comment">// 删除第一个元素</span></span><br><span class="line">        System.out.println(list.pollFirst());</span><br><span class="line">        System.out.println(list.pollLast());</span><br><span class="line">        System.out.println(list.remove());</span><br><span class="line">        System.out.println(list.removeFirst());</span><br><span class="line">        System.out.println(list); <span class="comment">// LinkList 可以添加重复的数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/*list.clear(); // 清空集合</span></span><br><span class="line"><span class="comment">        System.out.println(list.pollFirst()); // 输出 []</span></span><br><span class="line"><span class="comment">        System.out.println(list.removeFirst()); // 会报错*/</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 普通 for 循环</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            System.out.println(list.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 增强 for :</span></span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : list)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 迭代器</span></span><br><span class="line">        <span class="comment">/*Iterator&lt;String&gt; it = list.iterator();</span></span><br><span class="line"><span class="comment">        while(it.hasNext())&#123;</span></span><br><span class="line"><span class="comment">            System.out.println(it.next());</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">for</span> (Iterator&lt;String&gt; it = list.iterator();it.hasNext();)&#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="6-2-简要底层原理图"><a href="#6-2-简要底层原理图" class="headerlink" title="6.2  简要底层原理图"></a>6.2  简要底层原理图</h5><table>
<thead>
<tr>
<th align="center">LinkList简要原理图</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221203062227686.png" alt="image-20221203062227686"></td>
</tr>
</tbody></table>
<h5 id="6-3-模拟-LinkList-源码"><a href="#6-3-模拟-LinkList-源码" class="headerlink" title="6.3 模拟 LinkList 源码"></a>6.3 模拟 LinkList 源码</h5><ul>
<li><p>首先创建一个节点类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123; <span class="comment">// 节点类</span></span><br><span class="line">    <span class="comment">// 三个属性</span></span><br><span class="line">    <span class="comment">// 上一个元素的地址</span></span><br><span class="line">    <span class="keyword">private</span> Node pre;</span><br><span class="line">    <span class="comment">// 当前存入元素</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line">    <span class="comment">// 下一个元素的地址</span></span><br><span class="line">    <span class="keyword">private</span> Node next;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Node&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;pre=&quot;</span> + pre +</span><br><span class="line">                <span class="string">&quot;, obj=&quot;</span> + obj +</span><br><span class="line">                <span class="string">&quot;, next=&quot;</span> + next +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">getPre</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPre</span><span class="params">(Node pre)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pre = pre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getObj</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setObj</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Node <span class="title function_">getNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNext</span><span class="params">(Node next)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>创建一个链表类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyLinkList</span> &#123;</span><br><span class="line"><span class="comment">//    链中一定有一个首节点</span></span><br><span class="line">    Node first;</span><br><span class="line"><span class="comment">//    链中一定有一个尾节点</span></span><br><span class="line">    Node last;</span><br><span class="line"><span class="comment">//    计数器</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//    提供一个构造器</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyLinkList</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    添加元素方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Object o)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (first == <span class="literal">null</span>)&#123; <span class="comment">// 证明添加的元素是第一个节点</span></span><br><span class="line">            <span class="comment">// 将添加的元素封装为一个 Node 对象</span></span><br><span class="line">            <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">            node.setPre(<span class="literal">null</span>);</span><br><span class="line">            node.setObj(o);</span><br><span class="line">            node.setNext(<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">// 当前链中第一个节点变为 node</span></span><br><span class="line">            first = node;</span><br><span class="line">            <span class="comment">// 当前链中最后一个节点变为 node</span></span><br><span class="line">            last = node;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; <span class="comment">// 已经不是链中的第一个节点了</span></span><br><span class="line">            <span class="comment">// 将添加的元素封装为一个 Node 对象</span></span><br><span class="line">            <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">            node.setPre(last); <span class="comment">// node 的上一个节点就是当前链中的最后一个节点last</span></span><br><span class="line">            node.setObj(o);</span><br><span class="line">            node.setNext(<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">// 当前链中的最后一个节点的下一个元素 要指向 node</span></span><br><span class="line">            last.setNext(node);</span><br><span class="line">            <span class="comment">// 将最后一个节点变为 node</span></span><br><span class="line">            last = node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 链中元素数量加 1</span></span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得到集合中元素的数量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSize</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    通过下标获得元素</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span>&#123;</span><br><span class="line">        <span class="comment">// 获取链表的头元素</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">n</span> <span class="operator">=</span> first;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">            n = n.getNext();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n.getObj();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyLinkList</span> <span class="variable">ml</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyLinkList</span>();</span><br><span class="line">        ml.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">        ml.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">        System.out.println(ml.getSize());</span><br><span class="line">        System.out.println(ml.get(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="6-4-LinkedList-源码解析"><a href="#6-4-LinkedList-源码解析" class="headerlink" title="6.4 LinkedList 源码解析"></a>6.4 LinkedList 源码解析</h5><blockquote>
<p>JDK 1.7 和 JDK 1.8 的LinkedList的源码是一致的</p>
</blockquote>
<p>点开 LinkedList 源码看, 发现主要的点跟上面模拟代码的都差不多</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedList</span>&lt;E&gt; &#123;<span class="comment">//E是一个泛型，具体的类型要在实例化的时候才会最终确定</span></span><br><span class="line">    <span class="keyword">transient</span> <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//集合中元素的数量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Node的内部类</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt; &#123;</span><br><span class="line">        E item;<span class="comment">//当前元素</span></span><br><span class="line">        Node&lt;E&gt; next;<span class="comment">//指向下一个元素地址</span></span><br><span class="line">        Node&lt;E&gt; prev; <span class="comment">//上一个元素地址</span></span><br><span class="line"></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">            <span class="built_in">this</span>.item = element;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">            <span class="built_in">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">transient</span> Node&lt;E&gt; first;<span class="comment">//链表的首节点</span></span><br><span class="line">    <span class="keyword">transient</span> Node&lt;E&gt; last;<span class="comment">//链表的尾节点</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 空构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LinkedList</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加元素操作:</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">        linkLast(e);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">linkLast</span><span class="params">(E e)</span> &#123;<span class="comment">//添 加的元素e</span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; l = last;<span class="comment">//将链表中的last节点给1如果是第一-个元素的话1为null</span></span><br><span class="line">        <span class="comment">//将元素封装为--个Node具体的对象:</span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> <span class="title class_">Node</span>&lt;&gt;(l, e, <span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//将链表的last节点指向新的创建的对象:</span></span><br><span class="line">        last = newNode;</span><br><span class="line">        <span class="keyword">if</span> (l == <span class="literal">null</span>)<span class="comment">//如果添加的是第一个节点</span></span><br><span class="line">            first = newNode;<span class="comment">//将链表的first节点指向为新节点</span></span><br><span class="line">        <span class="keyword">else</span><span class="comment">//如果添加的不是第一个节点</span></span><br><span class="line">            l.next = newNode;<span class="comment">//将l的下一个指向为新的节点</span></span><br><span class="line">        size++;<span class="comment">//集合中元素数量加1操作</span></span><br><span class="line">        modCount++;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="comment">//获取集合中元素数量</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> size;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//通过索引得到元素:</span></span><br><span class="line">    <span class="keyword">public</span> E <span class="title function_">get</span> <span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        checkElementIndex (index) ;<span class="comment">//健壮性考虑</span></span><br><span class="line">        <span class="keyword">return</span> node (index).item;</span><br><span class="line">    &#125;</span><br><span class="line">    Node &lt;E&gt; node (<span class="type">int</span> index) &#123;</span><br><span class="line">        <span class="comment">// 如果index在链表的前半段，那么从前往后找</span></span><br><span class="line">        <span class="keyword">if</span>(index &lt;(size &gt;&gt; <span class="number">1</span>))&#123;</span><br><span class="line">            Node&lt;E&gt; x = first;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;index;i++)</span><br><span class="line">                x = x.next ;</span><br><span class="line">            <span class="keyword">return</span> x ;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 如果index在链表的后半段，那么从后往前找</span></span><br><span class="line">            Node&lt;E&gt; x = last;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span>size-<span class="number">1</span>;i&gt;index;i--)</span><br><span class="line">                x = x.prev ;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="6-5-iterator-相关"><a href="#6-5-iterator-相关" class="headerlink" title="6.5 iterator()相关"></a>6.5 iterator()相关</h5><p><strong>对应关系</strong></p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221204230549169.png" alt="image-20221204230549169" style="zoom:200%;">

<p><strong>具体实现</strong></p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221204231403874.png" alt="image-20221204231403874" style="zoom:200%;">



<p>增加 for 循环底层也是通过迭代器实现的。</p>
<h5 id="6-6-ListIterator-迭代器"><a href="#6-6-ListIterator-迭代器" class="headerlink" title="6.6 ListIterator 迭代器"></a>6.6 ListIterator 迭代器</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">       list.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">       list.add(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">       list.add(<span class="string">&quot;dd&quot;</span>);</span><br><span class="line">       <span class="comment">// 在 &quot;dd&quot; 之后添加一个字符串 &quot;ee&quot;</span></span><br><span class="line">       Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line">       <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">           <span class="keyword">if</span> (<span class="string">&quot;dd&quot;</span>.equals(it.next()))&#123;</span><br><span class="line">               list.add(<span class="string">&quot;ee&quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码出现如下异常:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception <span class="keyword">in</span> thread <span class="string">&quot;main&quot;</span> java.util.ConcurrentModificationException</span><br><span class="line">并发修改异常</span><br></pre></td></tr></table></figure>

<p>出错原因: 就是迭代器和list 同时对集合进行操作</p>
<p>解决办法: 就是让一个”人”去做 - &gt; 引入 ListIterator 迭代器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;dd&quot;</span>);</span><br><span class="line">        <span class="comment">// 在 &quot;dd&quot; 之后添加一个字符串 &quot;ee&quot;</span></span><br><span class="line">        ListIterator&lt;String&gt; it = list.listIterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;dd&quot;</span>.equals(it.next()))&#123;</span><br><span class="line">                it.add(<span class="string">&quot;ee&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>迭代和添加都是由 ListIterator 完成的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 在 &quot;dd&quot; 之后添加一个字符串 &quot;ee&quot;</span></span><br><span class="line">        ListIterator&lt;String&gt; it = list.listIterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;dd&quot;</span>.equals(it.next()))&#123;</span><br><span class="line">                it.add(<span class="string">&quot;ee&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(it.hasPrevious());</span><br><span class="line"><span class="comment">//        逆向遍历</span></span><br><span class="line">        <span class="keyword">while</span>(it.hasPrevious())&#123;</span><br><span class="line">            System.out.println(it.previous());</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>





<h4 id="七-Set-接口"><a href="#七-Set-接口" class="headerlink" title="七 Set 接口"></a>七 Set 接口</h4><blockquote>
<p>这个无序是相对 List 接口部分来说的 , 无序不等于随机</p>
</blockquote>
<p>特点 : 唯一 , 无序</p>
<p>遍历方式 : </p>
<ol>
<li>迭代器</li>
<li>增强 for 循环</li>
</ol>
<p>实现类 : </p>
<ol>
<li>HashSet</li>
</ol>
<h5 id="7-1-HashSet"><a href="#7-1-HashSet" class="headerlink" title="7.1 HashSet"></a>7.1 HashSet</h5><p>HashSet 常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        HashSet&lt;Integer&gt; hs = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        hs.add(<span class="number">19</span>);</span><br><span class="line">        hs.add(<span class="number">19</span>);</span><br><span class="line">        hs.add(<span class="number">8</span>);</span><br><span class="line">        hs.add(<span class="number">81</span>);</span><br><span class="line">        hs.add(<span class="number">18</span>);</span><br><span class="line">        System.out.println(hs.size()); <span class="comment">// 唯一, 无序</span></span><br><span class="line">        System.out.println(hs);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>放入自定义的引用数据类型的数据 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        HashSet&lt;Student&gt; hs = new HashSet&lt;&gt;();</span><br><span class="line">        hs.add(new Student(17,&quot;王木木&quot;));</span><br><span class="line">        hs.add(new Student(16,&quot;王木木最棒&quot;));</span><br><span class="line">        hs.add(new Student(16,&quot;王木木厉害aa&quot;));</span><br><span class="line">        hs.add(new Student(17,&quot;王木木&quot;));</span><br><span class="line">        System.out.println(hs.size());</span><br><span class="line">        System.out.println(hs);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>上面的自定义的类型不满足唯一 , 无需的特点。</p>
<h5 id="7-2-HashSet-简要原理"><a href="#7-2-HashSet-简要原理" class="headerlink" title="7.2 HashSet 简要原理"></a>7.2 HashSet 简要原理</h5><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205074253607.png" alt="image-20221205074253607" style="zoom:200%;">

<p>所以上面的自定义类型的解决方法就是在自定义类型重写 <code>hashCode</code> 和 <code>equals</code> 方法 , 这样就不会出现相同的元素了。</p>
<h5 id="7-3-LinkedHashSet-的使用"><a href="#7-3-LinkedHashSet-的使用" class="headerlink" title="7.3 LinkedHashSet 的使用"></a>7.3 LinkedHashSet 的使用</h5><p>特点 : 唯一, 有序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        LinkedHashSet&lt;Student&gt; hs = <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>&lt;&gt;();</span><br><span class="line">        hs.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        hs.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木最棒&quot;</span>));</span><br><span class="line">        hs.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木厉害aa&quot;</span>));</span><br><span class="line">        hs.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        System.out.println(hs.size());</span><br><span class="line">        System.out.println(hs);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>其实就是在 HashSet 的基础上，多了一个总的链表,这个总链表将放入的元素串在一起，方便有序的遍历。</p>
<h5 id="7-4-比较器的使用"><a href="#7-4-比较器的使用" class="headerlink" title="7.4 比较器的使用"></a>7.4 比较器的使用</h5><ul>
<li>以 int 类型为案例:<br>比较的思路:将比较的数据做差,然后返回一个int类型的数据，将这个int类型的数值按照 =0 &gt;0 &lt;0</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">System.out.println(a-b); <span class="comment">// =0 &gt;0 &lt;0</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>以 String 类型比较</p>
<p>String类实现了Comparable接口,这个接口中有一个抽象方法compareTo, String类中重写这个方法即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="string">&quot;A&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&quot;B&quot;</span>;</span><br><span class="line">System.out.println(a.compareTo(b));</span><br></pre></td></tr></table></figure></li>
<li><p>Double 类型比较</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">9.6</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">9.3</span>;</span><br><span class="line">System.out.println(((Double)a).compareTo((Double)b));</span><br></pre></td></tr></table></figure></li>
<li><p>自定义类型比较</p>
<p><strong>内部比较器</strong></p>
<ul>
<li><p>Student</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(age, student.age) &amp;&amp;</span><br><span class="line">                Objects.equals(name, student.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(age, name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(Integer age, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line">        <span class="comment">// 按照年龄进行比较</span></span><br><span class="line">       <span class="comment">// return this.getAge() - o.getAge();</span></span><br><span class="line">        <span class="comment">// 按照名字比较</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getName().compareTo(o.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>, <span class="string">&quot;王木木&quot;</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>, <span class="string">&quot;王木木&quot;</span>);</span><br><span class="line">        System.out.println(s1.compareTo(s2));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>外部比较器</strong></p>
<ol>
<li><p>Student 类 没有实现 Comparable 接口</p>
</li>
<li><p>新建一个比较器的类实现Comparator 接口并重写compare 方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Compare</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Student&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">        <span class="comment">// 比较年龄</span></span><br><span class="line">        <span class="keyword">return</span> o1.getAge() - o2.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>, <span class="string">&quot;王木木&quot;</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>, <span class="string">&quot;王木木&quot;</span>);</span><br><span class="line">        <span class="type">Comparator</span> <span class="variable">compare</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Compare</span>();</span><br><span class="line">        System.out.println(compare.compare(s1, s2));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
</ul>
<p>外部比较器和内部比较器 比较 :<br><strong>答案:</strong> 外部比较器，多态,扩展性好</p>
<h5 id="7-5-TreeSet-的使用及原理"><a href="#7-5-TreeSet-的使用及原理" class="headerlink" title="7.5 TreeSet 的使用及原理"></a>7.5 TreeSet 的使用及原理</h5><p>存入 Integer 类型数据 (底层利用的是内部比较器)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeSet&lt;Integer&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        ts.add(<span class="number">1</span>);</span><br><span class="line">        ts.add(<span class="number">11</span>);</span><br><span class="line">        ts.add(<span class="number">11</span>);</span><br><span class="line">        ts.add(<span class="number">1111</span>);</span><br><span class="line">        ts.add(<span class="number">111</span>);</span><br><span class="line">        System.out.println(ts.size());</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>通过上面的案例可以看出</p>
<p>特点 : 唯一 , 无序(没有按照输入顺序进行输出)，有序(按照升序进行遍历)</p>
<p>**原理 : ** 底层 : 二叉树 (数据结构中的一个逻辑结构)</p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205083225391.png" alt="image-20221205083225391" style="zoom:200%;">

<p>放入 String 类型数据 : (实现内部比较器)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeSet&lt;String&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        ts.add(<span class="string">&quot;blili&quot;</span>);</span><br><span class="line">        ts.add(<span class="string">&quot;clili&quot;</span>);</span><br><span class="line">        ts.add(<span class="string">&quot;alili&quot;</span>);</span><br><span class="line">        ts.add(<span class="string">&quot;dlili&quot;</span>);</span><br><span class="line">        ts.add(<span class="string">&quot;glili&quot;</span>);</span><br><span class="line">        ts.add(<span class="string">&quot;alili&quot;</span>);</span><br><span class="line">        System.out.println(ts.size());</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>放入自定义类型  Student 数据类型: </p>
<p><strong>内部比较器</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(age, student.age) &amp;&amp;</span><br><span class="line">                Objects.equals(name, student.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(age, name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(Integer age, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getAge() - o.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeSet&lt;Student&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        System.out.println(ts.size());  <span class="comment">// 比较年龄</span></span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p><strong>外部比较器</strong></p>
<ul>
<li><p>自定义类不实现Comparable 接口</p>
</li>
<li><p>新建 Compare 比较类实现 Comparator 接口并重写 Compare 方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Compare</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Student&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">        <span class="comment">// 比较年龄</span></span><br><span class="line"><span class="comment">//        return o1.getAge() - o2.getAge();</span></span><br><span class="line">        <span class="keyword">return</span> o1.getName().compareTo(o2.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>利用外部比较器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 利用外部比较器 , 自己制定</span></span><br><span class="line">        Comparator&lt;Student&gt; compare = <span class="keyword">new</span> <span class="title class_">Compare</span>();</span><br><span class="line">        TreeSet&lt;Student&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(compare); <span class="comment">// 一旦指定外部比较器，那么就会按照外部比较器来比较</span></span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        System.out.println(ts.size());</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>外部比较强另一种写法</strong></p>
<p>接口是不能创建对象的, 可以匿名内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 利用外部比较器 , 自己制定</span></span><br><span class="line">        Comparator&lt;Student&gt; compare = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o1.getName().compareTo(o2.getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        TreeSet&lt;Student&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(compare); <span class="comment">// 一旦指定外部比较器，那么就会按照外部比较器来比较</span></span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木最棒&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        System.out.println(ts.size());</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> TreeSet&lt;Student&gt; ts = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o1.getName().compareTo(o2.getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;); <span class="comment">// 一旦指定外部比较器，那么就会按照外部比较器来比较</span></span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木最棒&quot;</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>));</span><br><span class="line">        System.out.println(ts.size());</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205085817823.png" alt="image-20221205085817823" style="zoom:200%;">



<p><strong>TreeSet 底层的二叉树的遍历方式</strong></p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221205090135573.png" alt="image-20221205090135573" style="zoom:200%;">



<h4 id="八-Map-接口"><a href="#八-Map-接口" class="headerlink" title="八 Map 接口"></a>八 Map 接口</h4><p><strong>参数类型 :</strong> k - 映射的建类型 (key)</p>
<p>​                  v - 映射的值类型 (value)</p>
<h5 id="8-1-Map-接口中常用方法"><a href="#8-1-Map-接口中常用方法" class="headerlink" title="8.1 Map 接口中常用方法"></a>8.1 Map 接口中常用方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            增加: put(K key, V value)</span></span><br><span class="line"><span class="comment">            删除: clear() remove(Object key)</span></span><br><span class="line"><span class="comment">            修改:</span></span><br><span class="line"><span class="comment">            查看: entrySet() get(Object key) keySet() size() values()</span></span><br><span class="line"><span class="comment">            判断: containsKey(object key) containsValue(Object value)</span></span><br><span class="line"><span class="comment">            equals(Object o) isEmpty()</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">       Map&lt;String,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">       map.put(<span class="string">&quot;lulu&quot;</span>,<span class="number">10101010</span>);</span><br><span class="line">       map.put(<span class="string">&quot;lili&quot;</span>,<span class="number">11112330</span>);</span><br><span class="line">       map.put(<span class="string">&quot;nana&quot;</span>,<span class="number">34566233</span>);</span><br><span class="line">       map.put(<span class="string">&quot;lulu&quot;</span>,<span class="number">12345678</span>);</span><br><span class="line">       map.put(<span class="string">&quot;feifei&quot;</span>,<span class="number">55601010</span>);</span><br><span class="line"><span class="comment">//       map.clear(); // 清空</span></span><br><span class="line"><span class="comment">//        map.remove(&quot;lulu&quot;); // 移除</span></span><br><span class="line">        System.out.println(map.size());</span><br><span class="line">        System.out.println(map);</span><br><span class="line"><span class="comment">//        是否包含</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;lili&quot;</span>));</span><br><span class="line">        System.out.println(map.containsValue(<span class="number">12345678</span>));</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Integer&gt; map2 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map2.put(<span class="string">&quot;lulu&quot;</span>,<span class="number">10101010</span>);</span><br><span class="line">        map2.put(<span class="string">&quot;lili&quot;</span>,<span class="number">11112330</span>);</span><br><span class="line">        map2.put(<span class="string">&quot;nana&quot;</span>,<span class="number">34566233</span>);</span><br><span class="line">        map2.put(<span class="string">&quot;lulu&quot;</span>,<span class="number">12345678</span>);</span><br><span class="line">        map2.put(<span class="string">&quot;feifei&quot;</span>,<span class="number">55601010</span>);</span><br><span class="line">        System.out.println(map == map2);</span><br><span class="line">        System.out.println(map.equals(map2)); <span class="comment">//eauals讲行了重写，比较的是集合中的值是否一致</span></span><br><span class="line">        System.out.println(map.isEmpty());</span><br><span class="line"></span><br><span class="line">        System.out.println(map.get(<span class="string">&quot;lili&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>特点 :</strong> 无序 , 唯一 ,  按照 key 进行总结 , 底层 key 遵照 哈希表的结构 (数组 + 链表), 哈希表原理必须重写 hashCode 方法 和 equals 方法。</p>
<p><strong>常用方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;--------------------------&quot;</span>);</span><br><span class="line"><span class="comment">// keySet()对集合中的key进行遍历查看:</span></span><br><span class="line">Set&lt;String&gt; set = map.keySet();</span><br><span class="line"><span class="keyword">for</span> (String s : set)&#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;--------------------------&quot;</span>);</span><br><span class="line"><span class="comment">// values()对集合中的value进行遍历查看:</span></span><br><span class="line">Collection&lt;Integer&gt; values = map.values();</span><br><span class="line"><span class="keyword">for</span> (Integer i : values)&#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// get(Object key) keySet()</span></span><br><span class="line">System.out.println(<span class="string">&quot;--------------------------&quot;</span>);</span><br><span class="line">Set&lt;String&gt; keySet = map.keySet();</span><br><span class="line"><span class="keyword">for</span> (String s : keySet)&#123;</span><br><span class="line">    System.out.println(map.get(s));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// entrySet()</span></span><br><span class="line">System.out.println(<span class="string">&quot;--------------------------&quot;</span>);</span><br><span class="line">Set&lt;Map.Entry&lt;String, Integer&gt;&gt; entries = map.entrySet();</span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; e : entries)&#123;</span><br><span class="line">    System.out.println(e.getKey() + <span class="string">&quot;-----------&quot;</span> + e.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="8-2-HashTable-LinkedHashMap"><a href="#8-2-HashTable-LinkedHashMap" class="headerlink" title="8.2 HashTable , LinkedHashMap"></a>8.2 HashTable , LinkedHashMap</h5><p><strong>HashTable 实现类</strong> 与 <strong>HashMap 实现类</strong> 的区别 :</p>
<p>HashMap JDK 1.2 效率高 线程不安全 key可以存入null 值 , 并且key的null值也遵循唯一的特点<br>HashTable JDK1.0 效率低 线程安全 key不可以存入null值</p>
<p><strong>LinkedHashMap 实现类</strong></p>
<p>特点 : 唯一 , 有序 (按照输入顺序进行输出)</p>
<h5 id="8-3-TreeMap-实现类的使用"><a href="#8-3-TreeMap-实现类的使用" class="headerlink" title="8.3 TreeMap 实现类的使用"></a>8.3 TreeMap 实现类的使用</h5><p>**特点 : **唯一 , 有序</p>
<ol>
<li><p>key 的类型为 String 类型:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;blili&quot;</span>,<span class="number">1212222</span>);</span><br><span class="line">        map.put(<span class="string">&quot;alili&quot;</span>,<span class="number">22124422</span>);</span><br><span class="line">        map.put(<span class="string">&quot;elili&quot;</span>,<span class="number">02112232</span>);</span><br><span class="line">        map.put(<span class="string">&quot;clili&quot;</span>,<span class="number">4212222</span>);</span><br><span class="line">        map.put(<span class="string">&quot;dlili&quot;</span>,<span class="number">3212222</span>);</span><br><span class="line">        System.out.println(map.size());</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>key 的类型是一个自定义的引用数据类型</p>
<ul>
<li><p>内部比较器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(Integer age, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line"><span class="comment">//        return this.getAge() - o.getAge();</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getName().compareTo(o.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeMap&lt;Student, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>),<span class="number">1003</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木最棒&quot;</span>),<span class="number">1013</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木&quot;</span>),<span class="number">1103</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木厉害aa&quot;</span>),<span class="number">1223</span>);</span><br><span class="line">        System.out.println(map.size());</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>外部比较器</p>
<p>自定义数据类型不实现 Comparable 接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeMap&lt;Student, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> o1.getName().compareTo(o2.getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木&quot;</span>),<span class="number">1003</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木最棒&quot;</span>),<span class="number">1013</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;王木木&quot;</span>),<span class="number">1103</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">16</span>,<span class="string">&quot;王木木厉害aa&quot;</span>),<span class="number">1223</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">17</span>,<span class="string">&quot;康康&quot;</span>),<span class="number">1333</span>);</span><br><span class="line">        System.out.println(map.size());</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h5 id="8-4-HashMap-重要属性"><a href="#8-4-HashMap-重要属性" class="headerlink" title="8.4 HashMap  重要属性"></a>8.4 HashMap  重要属性</h5><table>
<thead>
<tr>
<th align="center">HashMap简要原理</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221206043533536.png" alt="image-20221206043533536" style="zoom:200%;"></td>
</tr>
</tbody></table>
<p>**JDK 1.7 **</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. HashMap的K, V的值,在创建对象的时候确定: K: Integer V:String </span></span><br><span class="line"><span class="comment">//HashMap的父类AbstractMap已经实现类Map接口,但是源码中又单独实现了Map接口</span></span><br><span class="line"><span class="comment">//这个操作就是一一个多余的操作--&gt; 集合的创作者承认 了</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashMap</span>&lt;K,V&gt;</span><br><span class="line">	<span class="keyword">extends</span> <span class="title class_">Abs</span> tractMap&lt;K,V&gt;</span><br><span class="line">	<span class="keyword">implements</span> <span class="title class_">Map</span>&lt;K,V&gt;, Cloneable, Serializable&#123;</span><br><span class="line">	<span class="comment">//重要属性:</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> DEFAULT_ <span class="type">INITIAL</span> <span class="variable">CAPACITY</span> <span class="operator">=</span> <span class="number">16</span>; <span class="comment">//定 义了一个16,-会要赋给数组的长度</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="type">MAXIMUM_</span> <span class="variable">CAPACITY</span> <span class="operator">=</span> <span class="number">1</span> &lt;&lt; <span class="number">30</span>; <span class="comment">//定 义了一个很大很大的数</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="type">float</span> DEFAULT <span class="type">LOAD</span> <span class="variable">FACTOR</span> <span class="operator">=</span> <span class="number">0.75f</span>; <span class="comment">//定义了一个值:0.75负载因子，加载因子</span></span><br><span class="line">	<span class="keyword">transient</span> Entry&lt;K,V&gt;[] table;<span class="comment">//底层 主数组</span></span><br><span class="line">	<span class="keyword">transient</span> <span class="type">int</span> size; <span class="comment">//添加的元素的数量</span></span><br><span class="line">	<span class="type">int</span> threshold; <span class="comment">//定 义个变量，没赋值默认为0 ,--&gt;这 个变量是用来表示数组扩容的边界值，门槛值</span></span><br><span class="line">	<span class="keyword">final</span> <span class="type">float</span> loadFactor; <span class="comment">//这 个变量用来接收:装填因子，负载因子，加载因子</span></span><br><span class="line">    <span class="comment">// 空构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// this (16,0.75)</span></span><br><span class="line">        <span class="built_in">this</span>.loadFactor = DEFAULT_LOAD_FACTOR;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 带参数构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashMap</span><span class="params">(<span class="type">int</span> initialCapacity, <span class="type">float</span> loadFactor)</span> &#123;</span><br><span class="line">       <span class="comment">// capacity一-定最终的结果是一.个2的整数倍 (2^n) ?????</span></span><br><span class="line">		<span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (capacity &lt; initialCapacity)</span><br><span class="line">			capacity &lt;&lt;= <span class="number">1</span> ;</span><br><span class="line">		<span class="comment">//确定了装填因子,负载因子,加载因子: 0.75</span></span><br><span class="line">		<span class="built_in">this</span>. loadFactor = loadFactor ;</span><br><span class="line">		<span class="comment">//threshold= capacity * loadFactor = 16*0.75=12</span></span><br><span class="line">		<span class="comment">//threshold=12 ---&gt; 数组扩容的边界值</span></span><br><span class="line">		threshold = (<span class="type">int</span>) Math. min (capacity * loadFactor, MAXIMUM_ CAPACITY + <span class="number">1</span>) ;</span><br><span class="line">		<span class="comment">//创建主数组,主数组的长度定义为16</span></span><br><span class="line">		table = <span class="keyword">new</span> <span class="title class_">Entry</span> [capacity];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//存储数据的方法:</span></span><br><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;<span class="comment">//k: Integer V:String </span></span><br><span class="line">    <span class="comment">//对空进行判断--&gt;允许key的值为null</span></span><br><span class="line">    <span class="keyword">if</span> (key == <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">return</span> put <span class="title function_">ForNullKey</span> <span class="params">(value)</span> ;</span><br><span class="line">    <span class="comment">//获取哈希码!</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">hash</span> <span class="operator">=</span> hash (key) ;</span><br><span class="line">    <span class="comment">// 得到元素在数组中的位置</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> indexFor (hash, table. length) ;</span><br><span class="line">    <span class="comment">//如果放 入的数组的位置. 上没有元素的话,那么直接添加就行了,不用走这个for循环</span></span><br><span class="line">    <span class="comment">//e != null满足的话,就证明这个位置上已经有东西了</span></span><br><span class="line">    <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="literal">null</span>; e = e.next) &#123;</span><br><span class="line">   		 Object k;</span><br><span class="line">        <span class="comment">//发生哈西碰撞的时候，会先比较哈希值</span></span><br><span class="line">        <span class="comment">//比较key是否是一个对象,如果key是--个对象的话,equals就不比较了</span></span><br><span class="line">        <span class="comment">//如果不是同一个对象,会比较equals方法</span></span><br><span class="line">        <span class="comment">//如果hash值一样, equals方法比较的结果也一样,那么才会走这个if方法:</span></span><br><span class="line">    <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key <span class="number">1</span> key.equals(k))) &#123;</span><br><span class="line">        <span class="comment">// 获取老的 Value</span></span><br><span class="line">   		 <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e. value ;</span><br><span class="line">        e.value = value ; <span class="comment">// 新value 替换老 Value --&gt; 只替换Value 不替换 key</span></span><br><span class="line">        e.recordAccess (<span class="built_in">this</span>) ;</span><br><span class="line">   		 <span class="keyword">return</span> oldValue ; <span class="comment">// 将oldValue 返回</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    modCount++;</span><br><span class="line">    addEntry(hash,key,value,i);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//添加元素的方法:</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addEntry</span><span class="params">(<span class="type">int</span> hash, K key, V value，<span class="type">int</span> bucketIndex)</span> &#123;</span><br><span class="line">	<span class="comment">//如果size&gt;=threshold这个变量不满足,这个if不走</span></span><br><span class="line">	<span class="keyword">if</span> ( (size &gt;= threshold) &amp;&amp; (<span class="literal">null</span> != table [bucketIndex]) ) &#123;</span><br><span class="line">	resize(<span class="number">2</span> * table. length) ; <span class="comment">// 数组扩容</span></span><br><span class="line">	hash = (nu1l != key) ? hash(key) : <span class="number">0</span>;</span><br><span class="line">	bucketIndex = indexFor (hash, table.length);</span><br><span class="line">    <span class="comment">//走这里创建一个Entry对象:</span></span><br><span class="line">	createEntry (hash, key, value, bucketIndex);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">createEntry</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">int</span> bucketIndex)</span> &#123;</span><br><span class="line">    <span class="comment">//将下标位置上的元素给e</span></span><br><span class="line">    Entry&lt;K,V&gt; e = table [bucketIndex] ;</span><br><span class="line">    <span class="comment">//封装对象,将这个对象给table [bucketIndex] --- &gt;链表的头插法</span></span><br><span class="line">    table [bucketIndex] = <span class="keyword">new</span> <span class="title class_">Entry</span>&lt;&gt; (hash, key, value, e) ;</span><br><span class="line">        <span class="comment">// 元素数量加1</span></span><br><span class="line">    size++ ;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h5 id="8-5-HashSet-底层原理"><a href="#8-5-HashSet-底层原理" class="headerlink" title="8.5 HashSet 底层原理"></a>8.5 HashSet 底层原理</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet</span>&lt;E&gt; &#123;</span><br><span class="line">    <span class="comment">//重要属性:</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E, Object&gt; map;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">PRESENT</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>() ;</span><br><span class="line">    / /构造器:</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashSet</span> <span class="params">()</span> &#123;</span><br><span class="line">    	map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;() ;<span class="comment">//HashSet底层就是利用HashMap来完成的</span></span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.put(e, PRESENT) ==<span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="8-6-HashMap-1-8-底层原理"><a href="#8-6-HashMap-1-8-底层原理" class="headerlink" title="8.6 HashMap 1.8 底层原理"></a>8.6 HashMap 1.8 底层原理</h5><p>底层 : 数组 + 链表 (红黑树)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashMap</span>&lt;K,V&gt; <span class="keyword">extends</span> <span class="title class_">AbstractMap</span>&lt;K,V&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Map</span>&lt;K,V&gt;, Cloneable, Serializable &#123; <span class="comment">// 1. 实现了两个 Map 接口, 重复</span></span><br><span class="line">    <span class="comment">// 3. 属性部分</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">float</span> <span class="variable">DEFAULT_LOAD_FACTOR</span> <span class="operator">=</span> <span class="number">0.75f</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">float</span> loadFactor;</span><br><span class="line">    <span class="type">int</span> threshold;</span><br><span class="line">    <span class="keyword">transient</span> Node&lt;K,V&gt; [] table; <span class="comment">// 底层数组</span></span><br><span class="line">    <span class="comment">// 2.调用空构造器:</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.loadFactor = DEFAULT_LOAD_FACTOR;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4.调用有参构造器:</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashMap</span><span class="params">(<span class="type">int</span> initialCapacity)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 5. 跳转到HashMap 中</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashMap</span><span class="params">(<span class="type">int</span> initialCapacity, <span class="type">float</span> loadFactor)</span> &#123;</span><br><span class="line">        <span class="comment">// 6. 健壮性处理</span></span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Illegal initial capacity: &quot;</span> +initialCapacity);</span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class="line">            initialCapacity = MAXIMUM_CAPACITY;</span><br><span class="line">        <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Illegal load factor: &quot;</span> +loadFactor);</span><br><span class="line">        <span class="comment">// 7. loadFactory = 0.75</span></span><br><span class="line">        <span class="built_in">this</span>.loadFactor = loadFactor;</span><br><span class="line">        <span class="comment">// 8. 调用 tableSizeFor 方法, 传入参数</span></span><br><span class="line">        <span class="built_in">this</span>.threshold = tableSizeFor(initialCapacity);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 9.tableSizeFor -- &gt;确定主数组的长度 --&gt; 返回的是最接近参数的2 的次幂</span></span><br><span class="line">    <span class="comment">// 10--&gt; 16 3 --&gt; 4 6 -&gt; 8</span></span><br><span class="line">     <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">tableSizeFor</span><span class="params">(<span class="type">int</span> cap)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> cap - <span class="number">1</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="number">1</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="number">2</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="number">4</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="number">8</span>;</span><br><span class="line">        n |= n &gt;&gt;&gt; <span class="number">16</span>;</span><br><span class="line">        <span class="keyword">return</span> (n &lt; <span class="number">0</span>) ? <span class="number">1</span> : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 10. 调用 put 方法</span></span><br><span class="line">    <span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123; <span class="comment">// 传入键值对</span></span><br><span class="line">        <span class="comment">// 11. 调用 hash 方法</span></span><br><span class="line">        <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 12. hash 方法</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Object key)</span> &#123; <span class="comment">// 返回值哈希码</span></span><br><span class="line">        <span class="type">int</span> h;</span><br><span class="line">        <span class="keyword">return</span> (key == <span class="literal">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 13. putVal 方法</span></span><br><span class="line">    <span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">                   <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">        <span class="comment">// 14. if 走</span></span><br><span class="line">        <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">            <span class="comment">// 15. 走入 resize() 方法</span></span><br><span class="line">            n = (tab = resize()).length;<span class="number">4</span></span><br><span class="line">            <span class="comment">// 经过一个公式: (n-1)&amp;hash]算出键值对在主数组中的位置:i</span></span><br><span class="line">        <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)</span><br><span class="line">            tab[i] = newNode(hash, key, value, <span class="literal">null</span>); <span class="comment">// 封装一个节点</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            Node&lt;K,V&gt; e; K k;</span><br><span class="line">            <span class="comment">// 哈希碰撞</span></span><br><span class="line">            <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">                ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                e = p;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                        p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                        <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                            treeifyBin(tab, hash);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                        ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="comment">// 赋值给 e</span></span><br><span class="line">                    p = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">                <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">                <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                    e.value = value;</span><br><span class="line">                afterNodeAccess(e);</span><br><span class="line">                <span class="keyword">return</span> oldValue; <span class="comment">// 替换的值返回</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ++modCount;</span><br><span class="line">        <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">            resize();</span><br><span class="line">        afterNodeInsertion(evict);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="8-7-TreeMap-底层源码"><a href="#8-7-TreeMap-底层源码" class="headerlink" title="8.7 TreeMap 底层源码"></a>8.7 TreeMap 底层源码</h5><ol>
<li><p>原理大致介绍</p>
<img src="/2022/12/28/Java-%E9%9B%86%E5%90%88/image-20221206075246580.png" alt="image-20221206075246580" style="zoom:200%;"></li>
<li><p>源码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeMap</span>&lt;K,V&gt;&#123;</span><br><span class="line">    <span class="comment">// 重要属性</span></span><br><span class="line">    <span class="comment">//外部比较器:</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Comparator&lt;? <span class="built_in">super</span> K&gt; comparator;</span><br><span class="line">    <span class="comment">//树的根节点:</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Entry&lt;K,V&gt; root = <span class="literal">null</span> ;</span><br><span class="line">    <span class="comment">//集合中元素的数量:</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="type">int</span> size= <span class="number">0</span> ;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//空构造器:</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TreeMap</span><span class="params">()</span> &#123;</span><br><span class="line">    comparator = <span class="literal">null</span>;<span class="comment">//如果使用空构造器，那么底层就不使用外部比较器</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有参构造器:</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TreeMap</span> <span class="params">(Comparator&lt;? <span class="built_in">super</span> K&gt; comparator)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>. comparator = comparator;<span class="comment">//如果 使用有参构造器，那么就相当于指定了外部比较器</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Entry</span>&lt;K,V&gt; <span class="keyword">implements</span> <span class="title class_">Map</span>.Entry&lt;K,V&gt; &#123;</span><br><span class="line">        K key;</span><br><span class="line">        V value;</span><br><span class="line">        Entry&lt;K,V&gt; left;</span><br><span class="line">        Entry&lt;K,V&gt; right;</span><br><span class="line">        Entry&lt;K,V&gt; parent;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">color</span> <span class="operator">=</span> BLACK;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">     <span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123; <span class="comment">//k,V的类型在创建对象的时候确定了</span></span><br><span class="line">         <span class="comment">//如果放入的是第一-对元素，那么t的值为null</span></span><br><span class="line">        Entry&lt;K,V&gt; t = root;</span><br><span class="line">         <span class="comment">//如果放入的是第一一个元素的话，走入这个if中:</span></span><br><span class="line">        <span class="keyword">if</span> (t == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 自己跟自己比</span></span><br><span class="line">            compare(key, key); <span class="comment">// type (and possibly null) check</span></span><br><span class="line">			<span class="comment">// 根节点确定为 root</span></span><br><span class="line">            root = <span class="keyword">new</span> <span class="title class_">Entry</span>&lt;&gt;(key, value, <span class="literal">null</span>);</span><br><span class="line">            <span class="comment">// size值变为 1</span></span><br><span class="line">            size = <span class="number">1</span>;</span><br><span class="line">            modCount++;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> cmp;</span><br><span class="line">        Entry&lt;K,V&gt; parent;</span><br><span class="line">        <span class="comment">// split comparator and comparable paths</span></span><br><span class="line">         <span class="comment">// 将外部比较器赋给 cpr :</span></span><br><span class="line">        Comparator&lt;? <span class="built_in">super</span> K&gt; cpr = comparator;</span><br><span class="line">         <span class="comment">//cpr不等于null,意味着你刚才创建对象的时候调用了有参构造器，指定了外部比较器</span></span><br><span class="line">        <span class="keyword">if</span> (cpr != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                parent = t;</span><br><span class="line">                cmp = cpr.compare(key, t.key);<span class="comment">// 将元素的key 值作比较</span></span><br><span class="line">                <span class="comment">// cmp返回的值就是 int 类型的数据</span></span><br><span class="line">                <span class="comment">// 要是这个值 &lt;0 =0 &gt;0</span></span><br><span class="line">                <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                    t = t.left;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                    t = t.right;</span><br><span class="line">                <span class="keyword">else</span> <span class="comment">// cmp == 0</span></span><br><span class="line">                    <span class="comment">//如果key的值一样，那么新的value替换老的value但是key不变 因为key是唯一的</span></span><br><span class="line">                    <span class="keyword">return</span> t.setValue(value);</span><br><span class="line">            &#125; <span class="keyword">while</span> (t != <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="comment">//cpr等于null,意味着你刚才创建对象的时候调用了空构造器，指定了内部比较器</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (key == <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">            <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">                Comparable&lt;? <span class="built_in">super</span> K&gt; k = (Comparable&lt;? <span class="built_in">super</span> K&gt;) key;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                parent = t;</span><br><span class="line">                cmp = k.compareTo(t.key);</span><br><span class="line">                <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">                    t = t.left;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>)</span><br><span class="line">                    t = t.right;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> t.setValue(value);</span><br><span class="line">            &#125; <span class="keyword">while</span> (t != <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Entry&lt;K,V&gt; e = <span class="keyword">new</span> <span class="title class_">Entry</span>&lt;&gt;(key, value, parent);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>)</span><br><span class="line">            parent.left = e;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            parent.right = e;</span><br><span class="line">        fixAfterInsertion(e);</span><br><span class="line">        size++;</span><br><span class="line">        modCount++;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="8-8-TreeSet-源码"><a href="#8-8-TreeSet-源码" class="headerlink" title="8.8 TreeSet 源码"></a>8.8 TreeSet 源码</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSet</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">NavigableSet</span>&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//重要属性:</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">transient</span> NavigableMap&lt;E,0bject&gt; m;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">PRESENT</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>() ;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 调用空构造器 , 底层创建了一个 TreeMap</span></span><br><span class="line"> 	<span class="keyword">public</span> <span class="title function_">TreeSet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;E,Object&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    TreeSet (NavigableMap&lt;E ,0bject&gt; m)&#123;</span><br><span class="line">    	<span class="built_in">this</span>.m = m;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">    	<span class="keyword">return</span> m.put (e，PRESENT)= = =nul1 ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="九-Conllections-工具类"><a href="#九-Conllections-工具类" class="headerlink" title="九 Conllections 工具类"></a>九 Conllections 工具类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Collections 不支持创建对象，因为构造器私有化了</span></span><br><span class="line">        <span class="comment">// 里面的属性和方法都是被stotic修饰，我们可以直接用类名.去调用即可:</span></span><br><span class="line">        <span class="comment">// 常用方法:</span></span><br><span class="line">        <span class="comment">// addAll</span></span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        Collections.addAll(list,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>);</span><br><span class="line">        Collections.addAll(list,<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;f&quot;</span>,<span class="string">&quot;g&quot;</span>&#125;);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">// binarySearch 必须在有序的集合中查找: --》排序:</span></span><br><span class="line">        Collections.sort(list); <span class="comment">// sort 提供的是升序排序</span></span><br><span class="line">        <span class="comment">// binarySearch</span></span><br><span class="line">        System.out.println(Collections.binarySearch(list, <span class="string">&quot;f&quot;</span>));</span><br><span class="line">        <span class="comment">// copy :</span></span><br><span class="line">        ArrayList&lt;String&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(list1,<span class="string">&quot;tt&quot;</span>,<span class="string">&quot;ss&quot;</span>);</span><br><span class="line">        Collections.copy(list,list1); <span class="comment">// 将 list 1 的内容替换到list上去</span></span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(list1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// fill 填充</span></span><br><span class="line">        Collections.fill(list1,<span class="string">&quot;yyy&quot;</span>);</span><br><span class="line">        System.out.println(list1);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/12/25/SSM%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/" rel="prev" title="SSM框架整合">
                  <i class="fa fa-chevron-left"></i> SSM框架整合
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/12/29/Git/" rel="next" title="Git">
                  Git <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2022 - <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">猫尛妖</span>
</div>
  <div class="powered-by">
   本站已安全运行:
	<span id="momk"></span>
	<script language=javascript>
	function show_date_time(){
		window.setTimeout("show_date_time()", 1000);
		BirthDay=new Date("12-07-2022 10:48:24");//建站日期
		today=new Date();
		timeold=(today.getTime()-BirthDay.getTime());
		sectimeold=timeold/1000
		secondsold=Math.floor(sectimeold);
		msPerDay=24*60*60*1000
		e_daysold=timeold/msPerDay
		daysold=Math.floor(e_daysold);
		e_hrsold=(daysold-e_daysold)*-24;
		hrsold=Math.floor(e_hrsold);
		e_minsold=(hrsold-e_hrsold)*-60;
		minsold=Math.floor((hrsold-e_hrsold)*-60);
		seconds=Math.floor((minsold-e_minsold)*-60);
		momk.innerHTML=daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒" ;
	}
show_date_time();
</script>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.8" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  





</body>
</html>
